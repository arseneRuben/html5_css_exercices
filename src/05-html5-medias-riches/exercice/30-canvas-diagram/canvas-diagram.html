<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <title>Exercice canvas</title>

        <style>
            body {
                width: 60%;
                margin: auto;
            }

            #canvasElement {
                border: 1px black solid;
            }
        </style>
    </head>

    <body>

        <h1>Les 12 langages de programmation les plus utilis√©s.</h1>

        <canvas id="canvasElement" width="640" height="480"></canvas>

        <script>
            /**
             * https://insights.stackoverflow.com/survey/2018#most-popular-technologies
             **/
            const LANGUAGES = [
                { name: "JavaScript", value: "69.8" },
                { name: "HTML", value: "68.5" },
                { name: "CSS", value: "65.1" },
                { name: "SQL", value: "57.0" },
                { name: "Java", value: "45.3" },
                { name: "Bash/Shell", value: "39.8" },
                { name: "Python", value: "38.8" },
                { name: "C#", value: "34.4" },
                { name: "PHP", value: "30.7" },
                { name: "C++", value: "25.4" },
                { name: "C", value: "23.0" },
                { name: "TypeScript", value: "17.4" }
            ];

            const canvas = document.getElementById("canvasElement");
            var context = canvas.getContext("2d");


            const BAR_PADDING = 5;
            const BAR_WIDTH = Math.round(canvas.height / LANGUAGES.length) - BAR_PADDING;

            LANGUAGES.forEach(function (language, index) {
                context.fillStyle = "gray";
                context.fillRect(0, (BAR_WIDTH + BAR_PADDING) * index, language.value * canvas.width / 100, BAR_WIDTH);
                context.fillStyle = "black";
                context.font = "18px Arial";
                context.fillText(language.name + " %", 10, (BAR_WIDTH + BAR_PADDING) * index + BAR_WIDTH / 2 + BAR_PADDING);

            });

        </script>

    </body>

</html>